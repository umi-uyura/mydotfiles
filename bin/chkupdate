#!/bin/sh

echo_warn() {
  printf "\e[33m%s\e[m" "$1"
}

echo
echo "### Checking for apt package updates ..."
echo

sudo apt update
apt list --upgradable


echo
echo "### Checking for Homebrew updates ..."
echo

if hash brew 2> /dev/null; then
  brew update
  brew outdated
else
  echo_warn "Homebrew could not be found, skipped check."
  echo
fi


echo
echo "### Updating asdf plugins ..."
echo

if hash asdf 2> /dev/null; then
  asdf plugin update --all
else
  echo_warn "asdf could not be found, skipped check."
  echo
fi


echo
echo "### Checking Go package updates ..."
echo

if hash gup 2> /dev/null; then
  gup check
else
  echo_warn "gup could not be found, skipped check."
  echo
fi


echo
echo "### Checking Python package updates ..."
echo

pip-check-update


echo
echo "### Checking Node.js package updates ..."
echo

if hash ncu 2> /dev/null; then
  ncu -g
else
  echo_warn "npm-check-updates(ncu) could not be found, skipped check."
  echo
fi
